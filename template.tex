\documentclass[12pt, a4paper,hyperref]{article} % 必須使用Xelatex編譯
%\usepackage{ctex}
\usepackage[margin=3cm]{geometry} % 上下左右距離邊緣3cm
\usepackage{amsmath,amsthm,amssymb} % 引入 AMS 數學環境
\usepackage{hyperref} % 生成書籤
\usepackage{bookmark} % 書籤加強版
\usepackage{xeCJK} % 中文
\usepackage{zhnumber}%中文編號
\usepackage{yhmath} % math symbol
\usepackage{graphicx} % 圖形插入用
%\usepackage{wrapfig} % 文繞圖
\usepackage{fontspec}    % 加這個就可以設定字體
\usepackage{type1cm}	 % 設定fontsize用
\usepackage{titlesec}   % 設定section等的字體
\usepackage{titling}    % 加強 title 功能
\usepackage{fancyhdr}   % 頁首頁尾
\usepackage{tabularx}   % 加強版 table
\usepackage{diagbox}
\usepackage[square, comma, numbers, super, sort&compress]{natbib}  % cite加強版
\usepackage[usenames, dvipsnames]{color}  % 可以使用顏色\color{red}
\usepackage{enumerate}  % 標號
\usepackage{enumitem} % 標號
\usepackage[normalem]{ulem} % 刪除線\sout{}
\usepackage{cancel}
\usepackage{indentfirst}
\usepackage{bbm}
\usepackage{pifont}
\usepackage{prettyref} % 放超連結\label{}\prettyref{}
\usepackage{multicol} % 局部分欄
\usepackage{float}  % 浮動環境
\usepackage{subfigure} % 並排圖片
\usepackage{verbatim}  % 大註解
\usepackage[version=4]{mhchem} % 化學模式\ce{[AgCl2]-}
\usepackage{chemfig} % 化學結構
\usepackage{listings} % 清單
\usepackage{xcolor} % 可以定義色彩

%%%%%%%%%%%%%%hypertef 設定%%%%%%%%%%%%%%%
\hypersetup{hidelinks,
unicode=true,
colorlinks=true,
allcolors=black,
pdfstartview=Fit,
breaklinks=true,
bookmarksdepth=true, % 生成目錄
psdextra=true
}

%%%%%%%%%%%%%%中文 Environment%%%%%%%%%%%%%%%
\setCJKmainfont{AR PL KaitiM Big5}
\setCJKsansfont{AR PL KaitiM Big5}
\setCJKmonofont{AR PL KaitiM Big5}
\defaultCJKfontfeatures{AutoFakeBold=6,AutoFakeSlant=.4} %以後不用再設定粗斜
\newCJKfontfamily\Kai{標楷體}
\newCJKfontfamily\Hei{微軟正黑體}
\newCJKfontfamily\NewMing{新細明體}
\setCJKmainfont[AutoFakeBold=3,AutoFakeSlant=.4]{標楷體}%中文字分開設定字體
\XeTeXlinebreaklocale "zh"             %這兩行一定要加，中文才能自動換行
\XeTeXlinebreakskip = 0pt plus 1pt     %這兩行一定要加，中文才能自動換行


%%%%%%%%%%%%%%%頁面設定%%%%%%%%%%%%%%%
\setlength{\headheight}{15pt}  %with titling
\setlength{\droptitle}{-1.5cm} %title 與上緣的間距
\parindent=24pt %設定縮排的距離
%\parskip=1ex  %設定行距
%\pagestyle{empty}  % empty: 無頁碼
%\pagestyle{fancy}  % fancy: fancyhdr

%use with fancygdr
%\lhead{\leftmark}
%\chead{}
%\rhead{}
%\lfoot{}
%\cfoot{}
%\rfoot{\thepage}
%\renewcommand{\headrulewidth}{0.4pt}
%\renewcommand{\footrulewidth}{0.4pt}

%\fancypagestyle{firststyle}
%{
  %\fancyhf{}
  %\fancyfoot[C]{\footnotesize Page \thepage\ of \pageref{LastPage}}
  %\renewcommand{\headrule}{\rule{\textwidth}{\headrulewidth}}
%}

%%%%%%%%%%%%%% 自定義Style%%%%%%%%%%%%%%
\newtheoremstyle{mystyle}
  {6pt}{15pt}%       上下間距
  {}%               內文字體
  {}%               縮排
  {\bf}%            標頭字體
  {.}%              標頭後標點
  {1em}%            內文與標頭距離
  {}%               Theorem head spec (can be left empty, meaning 'normal')

% 改用粗體，預設 remark style 是斜體
\theoremstyle{mystyle}	% 定理環境Style

%%%%%%%%%%%%%%code Environment%%%%%%%%%%%%%%%
\definecolor{commentgreen}{RGB}{2,112,10}
\definecolor{eminence}{RGB}{108,48,130}
\definecolor{weborange}{RGB}{255,165,0}
\definecolor{frenchplum}{RGB}{129,20,83}


%%%%%%%%%%%%%% new commands: %%%%%%%%%%%%%%
\newcommand{\np}[1]{\\[{#1}] \indent}
\newcommand{\transpose}[1]{{#1}^\mathrm{T}}
\newcommand{\adj}{\mathrm{adj}}
\newcommand{\degree}{^\circ}
\newcommand{\Arc}[1]{\wideparen{{#1}}}
\newcommand{\sline}[1]{\overleftrightarrow{{#1}}}
\newcommand{\Ray}[1]{\overrightarrow{{#1}}}
\newcommand{\Segment}[1]{\overline{{#1}}}
\renewcommand{\proofname}{\bf 證明:} 
\newcommand{\pole}[2]{\mathbb{P}_{\mathcal{#1}} (#2)}
\newcommand{\tg}[2]{\mathcal{T}_{\mathcal{#1}} (#2)}

%%%%%%%%%%%%%%計數器%%%%%%%%%%%%%%%
\newtheorem{ans}{Answer}[section] %答案
\newtheorem{ax}{Axiom}[section] %公理
\newtheorem{cl}{Corollary}[section] %推論
\newtheorem{con}{Conclusion}[section] %結論
\newtheorem{clm}{Claim}[section] %主張,聲稱
\newtheorem{df}{Definition}[section] %定義
\newtheorem{ex}{Example}[section] %例題
\newtheorem{exs}{Exercise}[section] %習題
\newtheorem{lm}{Lemma}[section] %引理
\newtheorem{pr}{Problem} %問題
\newtheorem{pf}{Proof}[section] %證明
\newtheorem{pro}{Property}[section] %性質
\newtheorem{prop}{Proposition}[section] %提議
\newtheorem{rem}{Remark}[section] %備註
\newtheorem{sol}{Solution}[section] %解答
\newtheorem{thm}{Theorem}[section] %定理

\newcommand{\resetcounters}
    {
    \setcounter{section}{0}
    \setcounter{ans}{0}
    \setcounter{ax}{0}
    \setcounter{cl}{0}
    \setcounter{con}{0}
    \setcounter{clm}{0}
    \setcounter{df}{0}
    \setcounter{ex}{0}
    \setcounter{exs}{0}
    \setcounter{lm}{0}
    \setcounter{pr}{0}
    \setcounter{pf}{0}
    \setcounter{pro}{0}
    \setcounter{prop}{0}
    \setcounter{rem}{0}
    \setcounter{sol}{0} 
    \setcounter{thm}{0}
    }
%%%%%%%%%%%%%%交叉引用%%%%%%%%%%%%%%%
\newrefformat{ans}{Answer\ref{#1}} %答案
\newrefformat{ax}{Axiom\ref{#1}} %公理
\newrefformat{cl}{Corollary\ref{#1}} %推論
\newrefformat{con}{Conclusion\ref{#1}} %結論
\newrefformat{clm}{Claim\ref{#1}} %主張,聲稱
\newrefformat{df}{Definition\ref{#1}} %定義
\newrefformat{ex}{Example\ref{#1}} %例題
\newrefformat{exs}{Exercise\ref{#1}} %習題
\newrefformat{lm}{Lemma\ref{#1}} %引理
\newrefformat{pr}{Problem\ref{#1}} %問題
\newrefformat{pf}{Proof\ref{#1}} %證明
\newrefformat{pro}{Property\ref{#1}} %性質
\newrefformat{prop}{Proposition\ref{#1}} %提議
\newrefformat{rem}{Remark\ref{#1}} %備註
\newrefformat{sol}{Solution\ref{#1}} %解答
\newrefformat{thm}{Theorem\ref{#1}} %定理
\newrefformat{fig}{\figurename\ \ref{#1}} %圖片標號

%%%%%%%%%%%%%%%重定義一些command%%%%%%%%%%%%%%%
%\arabic 阿拉伯數字
%\roman 小寫的羅馬數字
%\Roman 大寫的羅馬數字
%\alph 小寫字母
%\Alph 大寫字母
%\zhnum 中文
\renewcommand{\contentsname}{目錄}  %設定目錄的標題名稱
\renewcommand{\refname}{參考資料}  %設定參考資料的標題名稱
\renewcommand{\abstractname}{\LARGE Abstract} %設定摘要的標題名稱
\renewcommand{\figurename}{Fig} %重定義圖片编号前缀词
\renewcommand{\thesubfigure}{(\roman{subfigure})}%設定圖片編號
%\renewcommand\thesection{\zhnum{section}}%章節計數器類型
%\renewcommand\thesection{\zhnum{subsection}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%





\begin{document}
\pagestyle{fancy} %使用fancyhdr

%%%%%%%%%%%%%%頁首頁尾們%%%%%%%%%%%%%%%%%%%
\lhead{\rightmark}
\chead{}
\cfoot{}
\rfoot{\thepage}%右下角顯示頁碼
%%%%%%%%%%%%%%%%%%%%%%code environment setting%%%%%%%%%%%%%%%%%%%%%
\lstset {
    language=python,
    frame=tb,
    tabsize=4,
    showstringspaces=false,
    numbers=left,
    %upquote=true,
    commentstyle=\color{commentgreen},
    keywordstyle=\color{eminence},
    stringstyle=\color{red},
    basicstyle=\small\ttfamily, % basic font setting
    emph={int,char,double,float,unsigned,void,bool},
    emphstyle={\color{blue}},
    escapechar=\&,
    % keyword highlighting
    classoffset=1, % starting new class
    otherkeywords={>,<,.,;,-,!,=,~},
    morekeywords={>,<,.,;,-,!,=,~},
    keywordstyle=\color{weborange},
    classoffset=0,
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\parindent=0pt

\input{content.tex}

\end{document}
